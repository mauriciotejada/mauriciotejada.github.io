<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Mauricio Tejada">
<meta name="dcterms.date" content="2021-04-07">

<title>Mercado laboral en pandemia: Una radiografía del año 2020 – Mauricio M. Tejada</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-5b4ad623e5705c0698d39aec6f10cf02.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Mauricio M. Tejada</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../cv.html"> 
<span class="menu-text">Curriculum Vitae</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../research.html"> 
<span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../teaching.html"> 
<span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../blog.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Mercado laboral en pandemia: Una radiografía del año 2020</h1>
  <div class="quarto-categories">
    <div class="quarto-category">OE-UAH</div>
    <div class="quarto-category">Coyuntura Laboral</div>
    <div class="quarto-category">Pandemia COVID19</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Mauricio Tejada </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 7, 2021</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><em>Publicado en la Revista Observatorio Económico de la Facultad de Economía y Negocios de la Universidad Alberto Hurtado</em></p>
<p>El año 2020, con la pandemia del COVID 19 desatada en el país y las medidas de confinamiento implementadas para contenerla, configuró un contexto muy complejo para la economía en general, y para el mercado laboral en particular. En efecto, la producción de la economía promedió una tasa de crecimiento en doce meses de -6% en 2020, siendo los meses entre abril y agosto los más complejos al mostrar ésta caídas superiores del 10%. A partir de septiembre, y como consecuencia del relajamiento de las medidas restrictivas, en el marco del Plan Paso a Paso, la economía empezó a mostrar cifras algo más optimistas. Consecuentemente, el mercado laboral mostró un rápido y continuo deterioro durante los primeros siete meses del año, para luego mostrar una recuperación parcial hacia finales de año. Es así que la tasa de desempleo saltó de 7.1 a 10.3 entre diciembre 2019 y diciembre 2020, con un peak de 13.1 en julio (Figura 1, panel A). Comparando por género, la tasa de desempleo de hombres y mujeres mostró un incremento de algo más de 3 puntos porcentuales (pp) entre diciembre 2019 y diciembre 2020, en tanto que entre diciembre 2019 y el peak en julio 2020, la de los hombres saltó 6.9 pp mientras que la de las mujeres lo hizo en 4.8 pp.&nbsp;Es notorio que la recuperación ha sido más rápida para el caso de los hombres. Cabe señalar que estos números tienden a ser engañosos, ya que mucha gente que perdió su empleo en realidad salió del mercado laboral. En efecto, la tasa de participación cayó en 6.4 pp entre diciembre y diciembre y lo hizo en más de 11 pp entre diciembre y el peak en julio (Figura 1, panel B). Comparando hombres y mujeres, la caída de la tasa de participación al peak en julio era 11 pp para ambos, en tanto que comparando diciembre con diciembre ésta cayó 5.3 y 7.4 pp, respectivamente. Nuevamente, la tasa de participación se recuperó más rápidamente para el caso de los hombres. Es importante mencionar que entre 2010 y 2019 la tasa de participación femenina aumentó de 46% a 52.7% (un variación de 6.7 pp), logro que desapareció en los primeros 6 meses de pandemia. Si se toma en cuenta la fuerza de trabajo potencial, esto es aquellas personas que se encuentran fuera de la fuerza de trabajo y declaran intención de entrar al mercado laboral y buscar un empleo en cualquier momento, la tasa de desempleo en diciembre 2020 hubiera sido 21.2% y en el peak de julio sobre 30%. Este grupo, la fuerza de trabajo potencial, aumentó significativamente con las medidas de confinamiento (65% entre diciembre/20-diciembre/19 y 160% entre julio/20-diciembre/19) y es también este grupo el que retornará rápidamente en cuanto las condiciones empiecen a mejorar.</p>
<p>El comportamiento de la tasa de desempleo responde a los procesos de creación y destrucción de empleo (Figura 1, panel C). Durante los primeros meses de 2020, la tasa de destrucción de empleo, que mide la velocidad a la que se pierden puestos de trabajo, se incrementó rápidamente, duplicando su valor entre diciembre 2019 y mayo 2020. Este mismo comportamiento fue observado para hombres y mujeres. Es destacable que ya hacia finales del año, la destrucción de empleo se redujo hasta alcanzar niveles algo por debajo de los observados pre pandemia. La creación de empleo, por su parte, mostró un claro descenso recién en abril y llegó a su punto más bajo en agosto, anotando con esto una caída de 46% entre diciembre 2019 y mayo 2020. La caída en la creación de empleo de hombres fue más pronunciada que la de las mujeres en este mismo periodo (-51 vs -40%). Cabe señalar que si bien hacia finales de año la creación de empleo tendió a recuperarse, ésta está aún muy por debajo de sus niveles pre pandemia (casi un 40% menos). En concordancia con lo anterior, el empleo total empezó a mostrar tasas de crecimiento en doce meses negativas a partir de abril de 2020 (-7.6%) y anotó su peor caída en julio (-20.6%). Por tipo de empleo, se observa que el empleo formal venía en desaceleración desde finales de 2019, en tanto que el informal venía creciendo con fuerza; los crecimientos en doces meses en febrero 2020 fueron -0.6 y 8%, respectivamente (Figura 1, panel D). Con el inicio de la pandemia y las medidas de confinamiento, ambos tipos de empleo se vieron afectados, siendo el empleo informal el más golpeado; en julio 2020 se observaron caídas de -14.9 y -35.7% en doce meses para el empleo formal e informal, respectivamente. Hacia finales del 2020, el empleo seguía cayendo, pero lo hacía a tasas más bajas, -10 y -16.2%, respectivamente. Nótese que la recuperación es algo más acelerada para el empleo informal. Esto se nota aún más viendo la tasa de informalidad. Con la caída más pronunciada del empleo informal, la tasa de informalidad llegó a mínimos de 22% en julio y volvió a aumentar a niveles similares a los observados en años anteriores, 27%. Esto es típicamente observado en recesiones, donde el empleo informal tiende a crecer más que el formal. La contracción del empleo a nivel sectorial entre diciembre 2019 y diciembre 2020 se concentra en sectores relacionados con el turismo y restaurantes (con caídas superiores al 30% en doces meses), seguido por agricultura, ganadería y pesca, minería y construcción (con caídas superiores al 15% en doces meses). Industria y comercio siguen de cerca, con caídas superiores al 10%. Al contrario, sólo los sectores de información y comunicaciones y suministro de electricidad y gas mostraron incrementos significativos en este mismo periodo, 15% o más (Figura 1, panel E).</p>
<p>Al otro lado del mercado, las vacantes (por internet) mostraron caídas bien significativas en doces meses los primeros 7 meses del 2020 (en el peak de julio se observó una caída de 60%). Cabe señalar, que las vacantes ya venían cayendo desde octubre 2019 (a tasas cercanas a 10% en doce meses). Los últimos dos meses de 2020 se observó una recuperación importante con crecimientos sobre 20% (en parte por efecto base de comparación). El mercado está aún débil en término de creación de vacantes para absorber los desempleados que tendremos una vez que las personas inicien su reingreso al mercado laboral. El índice real de remuneraciones apenas creció en los primeros 6 meses de 2020 (promedió un crecimiento de 0.3% en doce meses). Hacia finales de 2020, se observó una recuperación (1%), no obstante este crecimiento está lejos del 2.4 promedio de la última década.</p>
<p>La pandemia ha exacerbado viejas inequidades. Arriba ya comentamos diferencias por género en las tasas de desempleo y participación. Además de ello, es notorio el impacto diferenciado que tuvo la pandemia en el empleo por nivel educativo (Figura 1, panel F). En efecto, entre diciembre 2019 y diciembre 2020 el empleo cayó en más de 50% para aquellos trabajadores que declaran no tener educación. Para los que declaran sólo contar con educación primaria o educación secundaria solamente, el empleo cayó 26 y 12%, respectivamente. Para trabajadores con educación técnica o universitaria se observaron caídas de 5.8 y 8.6%, respectivamente. Finalmente, sólo el grupo con postgrados mostró un crecimiento de 15.8% en su nivel de empleo.</p>
<p>¿Cómo viene el año 2021? El rápido proceso de vacunación que se observa en el país permite ser más optimistas respecto del futuro. En efecto, según la última encuesta de expectativas económicas del Banco Central, se espera que la producción crezca 5.2% en 2021. Por su parte, los últimos datos del mercado laboral del INE para enero 2021 muestran una tasa de desempleo estancada (en 10%), lo cual se explica por un crecimiento similar de la fuerza laboral y del empleo en el margen (1.1 y 1.2% mensual, respectivamente). Esto significa que la economía está creando puestos de trabajo en el margen, pero que también las personas que estaban fuera de la fuerza laboral están volviendo a la misma en búsqueda de un trabajo. Es probable que este proceso se mantenga en los próximos meses y que la recuperación del mercado laboral sea algo más lenta que la de la economía.</p>
<p><img src="../images_posts/radiografia_fig1.png" class="img-fluid"></p>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>